<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			ul li a {
				float: right;
			}

			li {
				width: 300px;
			}
		</style>
	</head>
	<body>
		<textarea rows="10" cols="30"></textarea>
		<button type="button">发布</button>
		<ul>


		</ul>
		<script>
			var text = document.querySelector('textarea');
			var bt = document.querySelector('button');
			var ul = document.querySelector('ul');
			bt.onclick = function() {
				if (text.value === '') {
					alert("留言不能为空");
				} else {
					var li = document.createElement('li');
					li.innerHTML = text.value + '<a href="javascript:;">删除</a>';
					ul.insertBefore(li, ul.children[0]);
					var as = document.querySelectorAll('a');
					for (var i = 0; i < as.length; i++) {
						as[i].onclick=function(){
							ul.removeChild(this.parentNode);
						}
					}
				}
			}
		</script>
	</body>
</html>
